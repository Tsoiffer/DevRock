{"ast":null,"code":"import _regeneratorRuntime from \"/mnt/c/Users/TomasSoiffer/Documents/GitHub/DevRock/ReactJS/find-rock de jony/findRock-master/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/mnt/c/Users/TomasSoiffer/Documents/GitHub/DevRock/ReactJS/find-rock de jony/findRock-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/mnt/c/Users/TomasSoiffer/Documents/GitHub/DevRock/ReactJS/find-rock de jony/findRock-master/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/mnt/c/Users/TomasSoiffer/Documents/GitHub/DevRock/ReactJS/find-rock de jony/findRock-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/c/Users/TomasSoiffer/Documents/GitHub/DevRock/ReactJS/find-rock de jony/findRock-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/mnt/c/Users/TomasSoiffer/Documents/GitHub/DevRock/ReactJS/find-rock de jony/findRock-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/mnt/c/Users/TomasSoiffer/Documents/GitHub/DevRock/ReactJS/find-rock de jony/findRock-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/mnt/c/Users/TomasSoiffer/Documents/GitHub/DevRock/ReactJS/find-rock de jony/findRock-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/mnt/c/Users/TomasSoiffer/Documents/GitHub/DevRock/ReactJS/find-rock de jony/findRock-master/src/page-artist.js\";\nimport React, { Component } from \"react\";\nimport SearchBar from \"./components/search-bar.js\";\nimport SimilarArtist from \"./components/similar-artist.js\";\nimport \"./page-artist.css\";\nimport Loading from \"./components/loading.js\";\nimport Error from \"./components/error.js\";\n\nvar PageSearchResult =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageSearchResult, _Component);\n\n  function PageSearchResult() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PageSearchResult);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PageSearchResult)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: {\n        artist: {\n          image: [{\n            \"#text\": \"\"\n          }, {\n            \"#text\": \"\"\n          }, {\n            \"#text\": \"\"\n          }, {\n            \"#text\": \"\"\n          }, {\n            \"#text\": \"\"\n          }],\n          bio: {\n            summary: \"\"\n          },\n          similar: {\n            artist: [{\n              name: \"\",\n              url: \"\",\n              image: [{\n                \"#text\": \"\"\n              }, {\n                \"#text\": \"\"\n              }, {\n                \"#text\": \"\"\n              }, {\n                \"#text\": \"\"\n              }, {\n                \"#text\": \"\"\n              }]\n            }]\n          }\n        }\n      }\n    };\n\n    _this.handleChange = function (e) {\n      console.log(e, \"soy el handle desde page\");\n\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.fetchData =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var artista, url, response, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              artista = _this.props.history.location.search.substr(1);\n              url = \"http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=\" + artista + \"&api_key=6c028a05bb3337cbf567aa148b8839cf&format=json\";\n\n              _this.setState({\n                loading: true\n              });\n\n              _context.next = 5;\n              return fetch(url);\n\n            case 5:\n              response = _context.sent;\n              _context.next = 8;\n              return response.json();\n\n            case 8:\n              data = _context.sent;\n              console.log(data, \"lo que trae la api\");\n\n              if (data.error) {\n                _this.setState({\n                  loading: false,\n                  error: true,\n                  errorMEnsaje: data.message\n                });\n              } else {\n                _this.setState({\n                  error: false,\n                  loading: false,\n                  data: data\n                });\n              }\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _this;\n  }\n\n  _createClass(PageSearchResult, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.location !== prevProps.location) {\n        this.fetchData();\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        onChange: this.handleChange,\n        busqueda: this.state.busqueda,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), this.state.loading && React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), this.state.error && React.createElement(Error, {\n        errorMEnsaje: this.state.errorMEnsaje,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row centrar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.data.artist.image[2][\"#text\"],\n        alt: \"\",\n        className: \"pic-artist margenes50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, this.state.data.artist.name), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, this.state.data.artist.bio.summary))), React.createElement(SimilarArtist, {\n        data: this.state.data.artist.similar.artist,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PageSearchResult;\n}(Component);\n\nexport default PageSearchResult;","map":{"version":3,"sources":["/mnt/c/Users/TomasSoiffer/Documents/GitHub/DevRock/ReactJS/find-rock de jony/findRock-master/src/page-artist.js"],"names":["React","Component","SearchBar","SimilarArtist","Loading","Error","PageSearchResult","state","data","artist","image","bio","summary","similar","name","url","handleChange","e","console","log","setState","target","value","fetchData","artista","props","history","location","search","substr","loading","fetch","response","json","error","errorMEnsaje","message","prevProps","busqueda"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SearchBar from \"./components/search-bar.js\";\nimport SimilarArtist from \"./components/similar-artist.js\";\nimport \"./page-artist.css\";\nimport Loading from \"./components/loading.js\";\nimport Error from \"./components/error.js\";\nclass PageSearchResult extends Component {\n  state = {\n    data: {\n      artist: {\n        image: [\n          { \"#text\": \"\" },\n          { \"#text\": \"\" },\n          { \"#text\": \"\" },\n          { \"#text\": \"\" },\n          { \"#text\": \"\" }\n        ],\n        bio: {\n          summary: \"\"\n        },\n        similar: {\n          artist: [\n            {\n              name: \"\",\n              url: \"\",\n              image: [\n                { \"#text\": \"\" },\n                { \"#text\": \"\" },\n                { \"#text\": \"\" },\n                { \"#text\": \"\" },\n                { \"#text\": \"\" }\n              ]\n            }\n          ]\n        }\n      }\n    }\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      this.fetchData();\n    }\n  }\n\n  handleChange = e => {\n    console.log(e, \"soy el handle desde page\");\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData = async () => {\n    let artista = this.props.history.location.search.substr(1);\n    let url =\n      \"http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=\" +\n      artista +\n      \"&api_key=6c028a05bb3337cbf567aa148b8839cf&format=json\";\n    this.setState({\n      loading: true\n    });\n    const response = await fetch(url);\n    const data = await response.json();\n    console.log(data, \"lo que trae la api\");\n    if (data.error) {\n      this.setState({\n        loading: false,\n        error: true,\n        errorMEnsaje: data.message\n      });\n    } else {\n      this.setState({\n        error: false,\n        loading: false,\n        data: data\n      });\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <SearchBar\n          onChange={this.handleChange}\n          busqueda={this.state.busqueda}\n        />\n        {this.state.loading && <Loading />}\n        {this.state.error && <Error errorMEnsaje={this.state.errorMEnsaje} />}\n        <div className=\"container\">\n          <div className=\"row centrar\">\n            <div className=\"col-md-3\" />\n            <div className=\"col-md-6\">\n              <img\n                src={this.state.data.artist.image[2][\"#text\"]}\n                alt=\"\"\n                className=\"pic-artist margenes50\"\n              />\n\n              <h2>{this.state.data.artist.name}</h2>\n              <p>{this.state.data.artist.bio.summary}</p>\n            </div>\n          </div>\n\n          <SimilarArtist data={this.state.data.artist.similar.artist} />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default PageSearchResult;\n"]},"metadata":{},"sourceType":"module"}